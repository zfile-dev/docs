import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import HelpInfoSub from './help-install-sub.mdx';

# Linux

## å®‰è£…ä¾èµ– {#install-depend}

é¦–æ¬¡éƒ¨ç½²æ‰éœ€è¦å®‰è£…ä¾èµ–ï¼Œæ›´æ–°éƒ¨ç½²è§ä¸‹æ–¹ï¼š[æ›´æ–°ç‰ˆæœ¬](#update)

<Tabs>
<TabItem value="centos" label="Centos">

```bash
yum install -y java-1.8.0-openjdk unzip
```

</TabItem>
<TabItem value="ubuntu" label="Ubuntu">

```bash
apt update
apt install -y openjdk-8-jre-headless unzip
```

</TabItem>
</Tabs>


## ä¸‹è½½å¹¶è§£å‹

:::info å®‰è£…è¯´æ˜

ä¸‹é¢å‘½ä»¤ä¸­ç¬¬ä¸€è¡Œè¡¨ç¤ºé»˜è®¤å®‰è£…åˆ°ç”¨æˆ·ç›®å½•ä¸‹: `~/zfile` ä¸‹ã€‚

å¯¹äº `root` ç”¨æˆ·, `~`  = `/root`,  `~/zfile` è¡¨ç¤ºåœ¨ `/root/zfile` è·¯å¾„ä¸‹ã€‚

å¯¹äºå…¶ä»–ç”¨æˆ·,  `~` = `/home/ç”¨æˆ·å` è¡¨ç¤ºåœ¨ `/home/ç”¨æˆ·å/` è·¯å¾„ä¸‹ã€‚å¦‚å¯¹äº `oracle` ç”¨æˆ·,  `~/zfile` åˆ™è¡¨ç¤ºå®‰è£…åœ¨ `/home/oracle/zfile` ä¸‹ã€‚

å¦‚éœ€æ›´æ”¹å®‰è£…è·¯å¾„, è¯·è‡ªè¡Œä¿®æ”¹ï¼Œå¦‚ `export ZFILE_INSTALL_PATH=/data/zfile`ï¼Œè¡¨ç¤ºå®‰è£…åœ¨ `/data/zfile` è·¯å¾„ä¸‹ã€‚

:::

```bash showLineNumbers
# highlight blue next
export ZFILE_INSTALL_PATH=~/zfile                        # å£°æ˜å®‰è£…åˆ°çš„è·¯å¾„
mkdir -p $ZFILE_INSTALL_PATH && cd $ZFILE_INSTALL_PATH   # åˆ›å»ºæ–‡ä»¶å¤¹å¹¶è¿›å…¥
wget --no-check-certificate https://c.jun6.net/ZFILE/zfile-release.war          # ä¸‹è½½ zfile æœ€æ–°ç‰ˆ
unzip zfile-release.war && rm -rf zfile-release.war      # è§£å‹å¹¶åˆ é™¤å‹ç¼©åŒ…
chmod +x $ZFILE_INSTALL_PATH/bin/*.sh                    # æˆæƒå¯åŠ¨åœæ­¢è„šæœ¬
```

## å¯åŠ¨é¡¹ç›®

```bash showLineNumbers
~/zfile/bin/start.sh       # å¯åŠ¨
```

å¯åŠ¨åæµè§ˆå™¨è®¿é—® **`http://ip:8080`** å³å¯ï¼Œå¦‚å¯åŠ¨åæ— æ³•è®¿é—®ï¼Œè¯·æ£€æŸ¥ **`ç«¯å£æ˜¯å¦å†²çª`** æˆ– **`é˜²ç«å¢™/å®‰å…¨ç»„æ˜¯å¦å¼€å¯`**ã€‚

ç®€å•æ£€æŸ¥æ–¹å¼ä¸ºåœ¨æœåŠ¡å™¨æ‰§è¡Œ `curl http://127.0.0.1:8080`
- å¦‚è¿”å› `curl: (7) Failed connect to 127.0.0.1:8080; Connection refused` è¡¨ç¤ºæœªå¯åŠ¨æˆåŠŸã€‚
- å¦‚è¿”å› `<!DOCTYPE html> <html lang="zh-CN">â€¦â€¦` ç­‰å­—æ ·è¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼Œå¦‚å¯åŠ¨æˆåŠŸä½†é€šè¿‡æœåŠ¡å™¨ IP æ— æ³•è®¿é—®ï¼Œé‚£ä¸€èˆ¬å°±æ˜¯é˜²ç«å¢™/å®‰å…¨ç»„æœªæ”¾è¡Œç«¯å£é—®é¢˜ã€‚


## å…¶ä»–å‘½ä»¤ {#command}

ä»¥ä¸‹ä¸ºé»˜è®¤æœªä¿®æ”¹å®‰è£…è·¯å¾„ä¸‹çš„æƒ…å†µï¼Œ**å¦‚ä¿®æ”¹äº†å®‰è£…è·¯å¾„è¯·è‡ªè¡Œæ›´æ”¹å‘½ä»¤æ‰€åœ¨è·¯å¾„**ã€‚

```bash showLineNumbers
~/zfile/bin/start.sh       # å¯åŠ¨
~/zfile/bin/stop.sh        # åœæ­¢
```

## é…ç½®æ–‡ä»¶è·¯å¾„ {#config}

å¦‚éœ€ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶è·¯å¾„ä¸ºï¼š

```bash showLineNumbers
~/zfile/WEB-INF/classes/application.properties
```

## æ›´æ–°ç‰ˆæœ¬ {#update}

:::caution

æ›´æ–°ç¨‹åºå‰åŠ¡å¿…åœæ­¢ç¨‹åºå†è¿›è¡Œæ“ä½œï¼Œè§ä¸‹æ–¹é»„è‰²é«˜äº®éƒ¨åˆ†ã€‚

:::

å¦‚æœæ²¡ä¿®æ”¹è¿‡å®‰è£…è·¯å¾„ï¼Œåˆ™åœæ­¢ç¨‹åºåï¼Œåˆ é™¤å®‰è£…æ–‡ä»¶å¤¹å³å¯ï¼Œé»˜è®¤å‘½ä»¤ä¸ºï¼š

å¦‚ä¿®æ”¹è¿‡å®‰è£…è·¯å¾„ï¼Œåˆ™æ›¿æ¢ä¸‹æ–¹å‘½ä»¤ä¸­çš„ `~/zfile` éƒ¨åˆ†ä¸ºä½ çš„å®‰è£…è·¯å¾„å³å¯ï¼Œè§ä¸‹æ–¹è“è‰²é«˜äº®éƒ¨åˆ†ï¼š





```bash showLineNumbers
# highlight yellow next
~/zfile/bin/stop.sh                                                 # åœæ­¢ç¨‹åº
# highlight yellow next
rm -rf ~/zfile                                                      # åˆ é™¤å®‰è£…æ–‡ä»¶å¤¹

# é‡æ–°ä¸‹è½½å®‰è£…æœ€æ–°ç‰ˆ
# highlight blue next
export ZFILE_INSTALL_PATH=~/zfile                                   # å£°æ˜å®‰è£…åˆ°çš„è·¯å¾„
mkdir -p $ZFILE_INSTALL_PATH && cd $ZFILE_INSTALL_PATH              # åˆ›å»ºæ–‡ä»¶å¤¹å¹¶è¿›å…¥
wget --no-check-certificate https://c.jun6.net/ZFILE/zfile-release.war                     # ä¸‹è½½ zfile æœ€æ–°ç‰ˆ
unzip zfile-release.war && rm -rf zfile-release.war                 # è§£å‹å¹¶åˆ é™¤å‹ç¼©åŒ…
chmod +x $ZFILE_INSTALL_PATH/bin/*.sh                               # æˆæƒå¯åŠ¨åœæ­¢è„šæœ¬

~/zfile/bin/start.sh                                                # å¯åŠ¨é¡¹ç›®
```

## å¸®æˆ‘å®‰è£…ğŸ”
<HelpInfoSub />
